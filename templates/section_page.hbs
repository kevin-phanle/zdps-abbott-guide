<div class="container">
  <section class="section hero-alt">
    <img src={{asset 'hero_bottom.svg' }} alt="">
  </section>
  {{!-- <template id="heroTemplate"></template> --}}
  <nav class="sub-nav">
    {{breadcrumbs}}
  </nav>

  {{!--
  <script type='module' src='{{asset "script-hero.js"}}'></script> --}}

  <div class="section-container">
    <section id="main-content" class="section-content">
      <header class="page-header">
        <h1>{{section.name}}</h1>

        {{#if section.description}}
        <p class="page-header-description">{{section.description}}</p>
        {{/if}}
      </header>

      {{#if section.sections}}
      <ul class="section-list">
        {{#each section.sections}}
        <li class="section-list-item">
          <a href="{{url}}">
            <span>{{name}}</span>
            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" focusable="false" viewBox="0 0 16 16"
              aria-hidden="true">
              <path fill="none" stroke="currentColor" stroke-linecap="round" stroke-width="2"
                d="M5 14.5l6.1-6.1c.2-.2.2-.5 0-.7L5 1.5" />
            </svg>
          </a>
        </li>
        {{/each}}
      </ul>
      {{/if}}

      {{pagination "section.sections"}}

      {{#if section.articles}}
      <ul class="article-list">
        {{#each section.articles}}
        <li class="article-list-item {{#if promoted}} article-promoted{{/if}}">
          {{#if promoted}}
          <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" focusable="false" viewBox="0 0 12 12"
            class="icon-star" title="{{t 'promoted'}}">
            <path fill="currentColor"
              d="M2.88 11.73c-.19 0-.39-.06-.55-.18a.938.938 0 01-.37-1.01l.8-3L.35 5.57a.938.938 0 01-.3-1.03c.12-.37.45-.63.85-.65L4 3.73 5.12.83c.14-.37.49-.61.88-.61s.74.24.88.6L8 3.73l3.11.17a.946.946 0 01.55 1.68L9.24 7.53l.8 3a.95.95 0 01-1.43 1.04L6 9.88l-2.61 1.69c-.16.1-.34.16-.51.16z" />
          </svg>
          {{/if}}
          <a href="{{url}}" class="article-list-link">{{title}}</a>
          {{!-- {{#if internal}}
          <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" focusable="false" viewBox="0 0 16 16"
            class="icon-lock" title="{{t 'internal'}}">
            <rect width="12" height="9" x="2" y="7" fill="currentColor" rx="1" ry="1" />
            <path fill="none" stroke="currentColor" d="M4.5 7.5V4a3.5 3.5 0 017 0v3.5" />
          </svg>
          {{/if}} --}}
        </li>
        {{/each}}
      </ul>
      {{else}}
      <i class="section-empty">
        <a href="{{section.url}}">{{t 'empty'}}</a>
      </i>
      {{/if}}

      {{pagination "section.articles"}}

    </section>
  </div>
</div>

<script>
  const getRawSections = sessionStorage.getItem('sections');
  const sections = JSON.parse(getRawSections);
  const currentSectionId = window.location.pathname.split('/').slice(-1)[0].split('-')[0];
  const section = sections.find(section => section.id === Number(currentSectionId));

  const heroAlt = document.querySelector('.hero-alt');

  var hero360006111172 = "{{asset 'hero-360006111172.png'}}";
  var hero360006111072 = "{{asset 'hero-360006111072.png'}}";
  var hero360006111092 = "{{asset 'hero-360006111092.png'}}";
  var hero360006111192 = "{{asset 'hero-360006111192.png'}}";
  var hero360006111372 = "{{asset 'hero-360006111372.png'}}";
  var hero360006131271 = "{{asset 'hero-360006131271.png'}}";

  const assetArr = [hero360006111172, hero360006111072, hero360006111092, hero360006111192, hero360006111372, hero360006131271];

  const categoriesIDs = [360006111172, 360006111072, 360006111092, 360006111192, 360006111372, 360006131271];

  const images = {};

  categoriesIDs.forEach((id, i) => {
    images[id] = assetArr[i];
  });

  const path = `url(${images[section.category_id]})`;

  heroAlt.style.backgroundImage = path;

  if (section.category_id === 360006131271) {
    heroAlt.style.backgroundPosition = "center bottom";
  }

</script>